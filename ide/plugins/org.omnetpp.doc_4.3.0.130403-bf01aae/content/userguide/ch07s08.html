<html><head><link rel="STYLESHEET" href="../book.css"  type="text/css"/><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Running and Controlling the Simulation</title><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="OMNeT&#8288;+&#8288;+ User Guide"><link rel="up" href="ch07.html" title="Chapter 7. The Tkenv Graphical Runtime Environment"><link rel="prev" href="ch07s07.html" title="Browsing the Registered Components"><link rel="next" href="ch07s09.html" title="Finding Objects"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Running and Controlling the Simulation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s07.html">Prev</a> </td><th width="60%" align="center">Chapter 7. The Tkenv Graphical Runtime Environment</th><td width="20%" align="right"> <a accesskey="n" href="ch07s09.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id279976"></a>Running and Controlling the Simulation</h2></div></div></div><p>Tkenv has several modes for running the simulation. These running modes have their
      corresponding buttons on Tkenv's toolbar:</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id279986"></a>Step Mode</h3></div></div></div><p>In Step mode, you can execute the simulation event-by-event. The next event is always
      shown on the status bar. The module where the next event will be delivered is highlighted
      with a red rectangle on the graphical display.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id279998"></a>Run Mode</h3></div></div></div><p>In Run mode, the simulation runs with all tracing aids on. Message animation is active and
        inspector windows are updated after each event. Output messages are displayed in the main window and
        module output windows. You can stop the simulation with the <span class="emphasis"><em>Stop</em></span> button on the toolbar. You can
        fully interact with the user interface while the simulation is running (e.g. you can open inspectors, etc.).
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>
        If you find this mode too slow or distracting, you may switch off animation features in
        the Tkenv configuration dialog.
      </div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280020"></a>Fast Mode</h3></div></div></div><p> In Fast mode, animation is turned off. The inspectors and the message output windows are updated
        every 500 milliseconds (the actual number can be set in <span class="emphasis"><em>Options|Simulation options...</em></span> and also in
        the INI file). Fast mode is several times faster than the Run mode; the speed can increase by up to 10 times
        (or up to the configured event count).</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280037"></a>Express Mode</h3></div></div></div><p> In Express mode, the simulation runs at about the same speed as with Cmdenv, all tracing
        disabled. Module output is not recorded in the output windows. You can interact with the
        simulation only once in a while, thus the run-time overhead of the user interface is minimal. You have
        to explicitly push the <span class="emphasis"><em>Update inspectors</em></span> button if you want an update.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280053"></a>Run Until</h3></div></div></div><p>You can run the simulation until a specified simulation time, event number or
        until a specific message has been delivered or canceled. This is
        a valuable tool during debugging sessions (select <span class="emphasis"><em>Simulate | Run until...</em></span>).
        It is also possible to right-click on an event in the simulation timeline and choose
        the <span class="emphasis"><em>Run until this event</em></span> menu item.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280073"></a>Run Until Next Event</h3></div></div></div><p> It is also possible to run until an event occurs in a specified module. Browse for the
        module and choose <span class="emphasis"><em>Run until next event in this module.</em></span> Simulation will stop once an event occurs
        in the selected module.</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280089"></a>Creating an Event Log</h3></div></div></div><p>The OMNeT&#8288;+&#8288;+ simulation kernel allows you to record event related information into a file
            which later can be used to analyze the simulation run using the <span class="emphasis"><em>Sequence Chart</em></span> tool in
            the IDE. To enable event recording, you can:</p><div class="itemizedlist"><ul type="disc"><li>Specify <code class="literal">record-eventlog=true</code> in <span class="emphasis"><em>omnetpp.ini</em></span></li><li>Use the <code class="literal">--record-eventlog=true</code> command line option</li><li>Click the little record button (red circle) on the toolbar near the run button
               before starting the simulation</li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id280130"></a>How to Follow the Simulation</h3></div></div></div><p> Tkenv has a status bar which is regularly updated while the simulation is running. Global
      simulation statistics like simulation speed, event density, current event number and simulation time are
      displayed on the status bar.</p><p> Simulations are created when Tkenv is started and the user has selected a network to simulate (or
      the user clicks the <span class="emphasis"><em>New Network</em></span> button to select a new one). First, the simulation kernel loads all
      necessary NED files and registers the loaded modules with the kernel. Object constructors are called at
      this point. The next phase is initialization when all module's <code class="literal">initialize()</code> methods are called.
      Once initialization is complete, Tkenv returns the control to the user and allows stepping or running
      the simulation. If you choose to quit Tkenv before the simulation finishes (or try to restart the
      simulation), Tkenv will ask you whether to call the <code class="literal">finish()</code> method for all modules. This will allow
      the modules to correctly free up resources and save their statistics. Before the simulation program exits,
      the modules are deleted and their destructors are called.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s07.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s09.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Browsing the Registered Components </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Finding Objects</td></tr></table></div></body></html>
